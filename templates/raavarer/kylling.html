{% extends "base.html" %}

{% block title %}Kylling & Fjerkræ - Råvarer - Vidensbank{% endblock %}

{% block content %}
<header class="page-header has-cover"
    style="background-image: url('{{ url_for('static', filename='images/raw_chicken.png') }}');">
    <div class="page-header__content">
        <p class="eyebrow">RÅVARER</p>
        <h1>Kylling & Fjerkræ</h1>
        <p>Kylling er det mest klimavenlige kød på markedet. En alsidig og proteinrig råvare, der spiller en nøglerolle
            i det moderne køkken.</p>
        <nav class="filter-nav" aria-label="Filtrer emner">
            <a href="{{ url_for('raavarer_landing') }}" class="filter-pill">← Tilbage til Råvarer</a>
        </nav>
    </div>
</header>

<section class="page-section">
    <header class="section-header">
        <h2 class="section-title">Klimaaftryk & Miljø</h2>
        <p class="section-lead">Med kun 6,9 kg CO₂e pr. kg er kylling et markant bedre valg end rødt kød, men der er
            stadig vigtige hensyn at tage.</p>
    </header>

    <div class="grid-layout grid-2-col">
        <div class="kpi-dashboard">
            <div class="grid-layout" style="grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="kpi-card">
                    <div class="kpi-label">Klimaaftryk</div>
                    <div class="kpi-number" style="color: #eab308;">6.9</div>
                    <p>kg CO₂e pr. kg</p>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Vs. Oksekød</div>
                    <div class="kpi-number">-87%</div>
                    <p>lavere udledning</p>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Vandforbrug</div>
                    <div class="kpi-number">4.325</div>
                    <p>liter pr. kg</p>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Areal</div>
                    <div class="kpi-number">7.2</div>
                    <p>m² pr. kg årligt</p>
                </div>
            </div>
        </div>

        <div class="kpi-card">
            <h3 class="card-title">Hvorfor vælge kylling?</h3>
            <ul class="list-style-none">
                <li class="mb-3"><strong>Effektivitet:</strong> Kyllinger er utroligt effektive til at omsætte foder til
                    kød (1,8 kg foder = 1 kg kød).</li>
                <li class="mb-3"><strong>Lavt arealforbrug:</strong> Kræver markant mindre plads end kvæg og svin,
                    hvilket skåner naturen.</li>
                <li class="mb-3"><strong>Alsidighed:</strong> Neutral smag gør den nem at bruge i utallige retter og
                    køkkener.</li>
            </ul>
            <div class="mt-4 p-4 bg-light-yellow border-radius-8">
                <h4 class="mb-2">Vigtigt om Dyrevelfærd</h4>
                <p class="mb-0">Vælg altid økologisk eller frilandskylling. Konventionelle industrikyllinger lever ofte
                    under meget trange kår og vokser unaturligt hurtigt.</p>
            </div>
        </div>
    </div>
</section>

<section class="page-section is-muted">
    <header class="section-header">
        <h2 class="section-title">Kan du gå endnu lavere?</h2>
        <p class="section-lead">Selvom kylling er det bedste kødvalg, findes der endnu grønnere alternativer.</p>
    </header>

    <div class="grid-layout grid-3-col">
        <div class="aww-card">
            <div class="card-content-body">
                <h3 class="card-title">Bælgfrugter</h3>
                <div class="kpi-number" style="font-size: 2.5rem; color: var(--dark-gron);">-71%</div>
                <p class="card-teaser">Linser og bønner giver samme mæthed for en brøkdel af klimaaftrykket (ca. 2 kg
                    CO₂e/kg).</p>
            </div>
        </div>

        <div class="aww-card">
            <div class="card-content-body">
                <h3 class="card-title">Tofu / Tempeh</h3>
                <div class="kpi-number" style="font-size: 2.5rem; color: var(--cheval-orange);">-57%</div>
                <p class="card-teaser">Sojabaserede produkter (ca. 3 kg CO₂e/kg) kan marineres og tilberedes præcis som
                    kylling.</p>
            </div>
        </div>

        <div class="aww-card">
            <div class="card-content-body">
                <h3 class="card-title">Æg</h3>
                <div class="kpi-number" style="font-size: 2.5rem; color: var(--cheval-gul);">-30%</div>
                <p class="card-teaser">Æg (4,8 kg CO₂e/kg) er en fremragende proteinkilde med lavere aftryk end selve
                    kyllingen.</p>
            </div>
        </div>
    </div>
</section>

<section class="page-section">
    <div class="container max-w-1000">
        <div class="bg-white p-8 rounded-xl shadow-lg border-1 border-light">
            <h2 class="section-title mb-6">Beregn Din Besparelse</h2>
            <p class="text-center mb-8">Se effekten af at vælge kylling frem for tungere kødtyper.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div>
                    <label class="block text-sm font-bold uppercase tracking-wider text-dark mb-2">
                        Mængde kylling (g/uge)
                    </label>
                    <input type="range" id="chickenAmount" min="0" max="2000" value="600" step="50"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-cheval-gul"
                        oninput="calculateChickenSavings()">
                    <div class="text-right font-bold text-lg text-cheval-orange mt-2"><span
                            id="chickenAmountDisplay">600</span>g</div>
                </div>
                <div>
                    <label class="block text-sm font-bold uppercase tracking-wider text-dark mb-2">
                        Sammenlign med
                    </label>
                    <select id="chickenComparison"
                        class="w-full px-4 py-3 bg-light border border-gray-300 rounded text-dark text-lg focus:outline-none focus:border-cheval-gul"
                        onchange="calculateChickenSavings()">
                        <option value="12">Svinekød (12 kg CO₂e/kg)</option>
                        <option value="24">Lammekød (24 kg CO₂e/kg)</option>
                        <option value="60">Oksekød (60 kg CO₂e/kg)</option>
                        <option disabled>--- Gå lavere ---</option>
                        <option value="2">Bælgfrugter (2 kg CO₂e/kg)</option>
                    </select>
                </div>
            </div>

            <div id="chickenSavingsResult" class="mt-8 fade-in">
                <div class="bg-light-gul border border-cheval-gul rounded-lg p-6 text-center">
                    <div class="text-sm uppercase tracking-wider text-dark mb-2" id="chickenSavingsLabel">Besparelse
                    </div>
                    <div class="text-5xl font-bold text-cheval-orange mb-2">
                        <span id="chickenSavingsValue">0</span> <span class="text-2xl text-dark">kg CO₂e/uge</span>
                    </div>

                    <div class="grid grid-cols-2 gap-4 mt-6 pt-6 border-t border-cheval-gul/30">
                        <div>
                            <div class="text-2xl font-bold text-dark" id="chickenAnnualSavings">0</div>
                            <div class="text-xs uppercase tracking-wider text-gray-600">tons CO₂e/år</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-dark" id="chickenFlightEquiv">0</div>
                            <div class="text-xs uppercase tracking-wider text-gray-600">flyrejser til London</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Data Sources -->
<section class="bg-cb-taupe-light py-12">
    <div class="mx-auto max-w-7xl px-6">
        <h3 class="text-center font-display text-2xl font-bold text-stone-900 mb-6 uppercase">Datakilder</h3>
        <div class="flex flex-wrap justify-center gap-4 text-sm text-stone-600 font-sans">
            <span>• CONCITO's Den Store Klimadatabase v2.0</span>
            <span>• Poore & Nemecek (2018), Science</span>
            <span>• Fødevarestyrelsen (Dyrevelfærd)</span>
            <span>• Water Footprint Network</span>
        </div>
    </div>
</section>

<!-- Load Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<script>
    // Calculator function
    function calculateChickenSavings() {
        const chickenAmount = parseFloat(document.getElementById('chickenAmount').value) || 0;
        const comparisonValue = parseFloat(document.getElementById('chickenComparison').value);
        const chickenCO2 = 6.9; // kg CO2e/kg

        // Update display
        document.getElementById('chickenAmountDisplay').textContent = chickenAmount;

        const amountKg = chickenAmount / 1000;
        const chickenEmissions = amountKg * chickenCO2;
        const comparisonEmissions = amountKg * comparisonValue;

        let weeklySavings = comparisonEmissions - chickenEmissions;
        let labelText = 'Besparelse ved at vælge kylling';

        // If comparing with lower impact foods (legumes), savings will be negative (meaning chicken is worse)
        // So we invert logic to show how much you save by switching FROM chicken TO legumes
        if (weeklySavings < 0) {
            weeklySavings = chickenEmissions - comparisonEmissions;
            labelText = 'Yderligere besparelse ved at vælge alternativet';
        }

        const annualSavings = (weeklySavings * 52) / 1000; // Convert to tons
        const flights = Math.round(annualSavings / 0.25); // ~250kg per flight

        document.getElementById('chickenSavingsLabel').textContent = labelText;
        document.getElementById('chickenSavingsValue').textContent = weeklySavings.toFixed(1);
        document.getElementById('chickenAnnualSavings').textContent = annualSavings.toFixed(2);
        document.getElementById('chickenFlightEquiv').textContent = flights;
    }

    // Initialize calculator
    document.addEventListener('DOMContentLoaded', function () {
        calculateChickenSavings();
    });
</script>

{% endblock %}