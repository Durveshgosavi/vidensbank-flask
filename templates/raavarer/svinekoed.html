{% extends "base.html" %}

{% block title %}Svinekød - Råvarer - Vidensbank{% endblock %}

{% block content %}
<header class="page-header has-cover"
    style="background-image: url('{{ url_for('static', filename='images/raw_pork.png') }}');">
    <div class="page-header__content">
        <p class="eyebrow">RÅVARER</p>
        <h1>Svinekød</h1>
        <p>Svinekød er en af de mest anvendte kødstyper i Danmark. Med et klimaaftryk på 12 kg CO₂e pr. kg ligger det
            midt i feltet.</p>
        <nav class="filter-nav" aria-label="Filtrer emner">
            <a href="{{ url_for('raavarer_landing') }}" class="filter-pill">← Tilbage til Råvarer</a>
        </nav>
    </div>
</header>

<section class="page-section">
    <header class="section-header">
        <h2 class="section-title">Klimaaftryk & Miljø</h2>
        <p class="section-lead">Svinekød belaster klimaet mindre end oksekød, men betydeligt mere end fjerkræ og
            plantebaserede alternativer.</p>
    </header>

    <div class="grid-layout grid-2-col">
        <div class="kpi-dashboard">
            <div class="grid-layout" style="grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="kpi-card">
                    <div class="kpi-label">Klimaaftryk</div>
                    <div class="kpi-number" style="color: #ec4899;">12</div>
                    <p>kg CO₂e pr. kg</p>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Vs. Kylling</div>
                    <div class="kpi-number">+74%</div>
                    <p>højere udledning</p>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Vandforbrug</div>
                    <div class="kpi-number">5.988</div>
                    <p>liter pr. kg</p>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Areal</div>
                    <div class="kpi-number">11</div>
                    <p>m² pr. kg årligt</p>
                </div>
            </div>
        </div>

        <div class="kpi-card">
            <h3 class="card-title">Hvor står svinekød?</h3>
            <ul class="list-style-none">
                <li class="mb-3"><strong>Foderproduktion:</strong> Ca. 80% af klimaaftrykket stammer fra produktionen af
                    foder (soja og korn).</li>
                <li class="mb-3"><strong>Effektivitet:</strong> Dansk svineproduktion er blandt verdens mest effektive,
                    men dyret er stadig en "mellemmand" for kalorier.</li>
                <li class="mb-3"><strong>Gylle:</strong> Håndtering af gylle er en væsentlig kilde til både metan og
                    ammoniakfordampning.</li>
            </ul>
            <div class="mt-4 p-4 bg-light-pink border-radius-8">
                <h4 class="mb-2">Vigtigt om Dyrevelfærd</h4>
                <p class="mb-0">Vælg økologisk eller frilandsgris for at sikre, at dyrene har haft adgang til det fri og
                    krølle på halen.</p>
            </div>
        </div>
    </div>
</section>

<section class="page-section is-muted">
    <header class="section-header">
        <h2 class="section-title">Klimavenlige Alternativer</h2>
        <p class="section-lead">Hvis du vil reducere klimaaftrykket, er der gode alternativer at hente.</p>
    </header>

    <div class="grid-layout grid-3-col">
        <div class="aww-card">
            <div class="card-content-body">
                <h3 class="card-title">Bælgfrugter</h3>
                <div class="kpi-number" style="font-size: 2.5rem; color: var(--dark-gron);">-83%</div>
                <p class="card-teaser">Linser og bønner (2 kg CO₂e/kg) er det mest effektive bytte for klimaet.</p>
            </div>
        </div>

        <div class="aww-card">
            <div class="card-content-body">
                <h3 class="card-title">Kylling</h3>
                <div class="kpi-number" style="font-size: 2.5rem; color: var(--cheval-gul);">-42%</div>
                <p class="card-teaser">Ved at skifte fra svin til kylling (6,9 kg CO₂e/kg) halverer du næsten aftrykket.
                </p>
            </div>
        </div>

        <div class="aww-card">
            <div class="card-content-body">
                <h3 class="card-title">Hvid Fisk</h3>
                <div class="kpi-number" style="font-size: 2.5rem; color: var(--cheval-blue);">-50%</div>
                <p class="card-teaser">MSC-certificeret hvid fisk (ca. 6 kg CO₂e/kg) er et sundt og let alternativ.</p>
            </div>
        </div>
    </div>
</section>

<section class="page-section">
    <div class="container max-w-1000">
        <div class="bg-white p-8 rounded-xl shadow-lg border-1 border-light">
            <h2 class="section-title mb-6">Beregn Din Besparelse</h2>
            <p class="text-center mb-8">Se effekten af at udskifte svinekød med grønnere alternativer.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div>
                    <label class="block text-sm font-bold uppercase tracking-wider text-dark mb-2">
                        Mængde svinekød (g/uge)
                    </label>
                    <input type="range" id="porkAmount" min="0" max="2000" value="500" step="50"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-pink-500"
                        oninput="calculatePorkSavings()">
                    <div class="text-right font-bold text-lg text-pink-600 mt-2"><span
                            id="porkAmountDisplay">500</span>g</div>
                </div>
                <div>
                    <label class="block text-sm font-bold uppercase tracking-wider text-dark mb-2">
                        Erstat med
                    </label>
                    <select id="porkReplacement"
                        class="w-full px-4 py-3 bg-light border border-gray-300 rounded text-dark text-lg focus:outline-none focus:border-pink-500"
                        onchange="calculatePorkSavings()">
                        <option value="2">Bælgfrugter (2 kg CO₂e/kg)</option>
                        <option value="6.9">Kylling (6,9 kg CO₂e/kg)</option>
                        <option value="3">Tofu/Tempeh (3 kg CO₂e/kg)</option>
                        <option value="6">Hvid fisk (6 kg CO₂e/kg)</option>
                        <option value="0">Intet (skær bare ned)</option>
                    </select>
                </div>
            </div>

            <div id="porkSavingsResult" class="mt-8 fade-in">
                <div class="bg-pink-50 border border-pink-200 rounded-lg p-6 text-center">
                    <div class="text-sm uppercase tracking-wider text-dark mb-2">Ugentlig besparelse</div>
                    <div class="text-5xl font-bold text-pink-600 mb-2">
                        <span id="porkSavingsValue">0</span> <span class="text-2xl text-dark">kg CO₂e/uge</span>
                    </div>

                    <div class="grid grid-cols-2 gap-4 mt-6 pt-6 border-t border-pink-200">
                        <div>
                            <div class="text-2xl font-bold text-dark" id="porkAnnualSavings">0</div>
                            <div class="text-xs uppercase tracking-wider text-gray-600">tons CO₂e/år</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-dark" id="porkFlightEquiv">0</div>
                            <div class="text-xs uppercase tracking-wider text-gray-600">flyrejser til London</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Data Sources -->
<section class="bg-cb-taupe-light py-12">
    <div class="mx-auto max-w-7xl px-6">
        <h3 class="text-center font-display text-2xl font-bold text-stone-900 mb-6 uppercase">Datakilder</h3>
        <div class="flex flex-wrap justify-center gap-4 text-sm text-stone-600 font-sans">
            <span>• CONCITO's Den Store Klimadatabase v2.0</span>
            <span>• Poore & Nemecek (2018), Science</span>
            <span>• Landbrug & Fødevarer</span>
            <span>• Water Footprint Network</span>
        </div>
    </div>
</section>

<!-- Load Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<script>
    // Calculator function
    function calculatePorkSavings() {
        const porkAmount = parseFloat(document.getElementById('porkAmount').value) || 0;
        const replacementCO2 = parseFloat(document.getElementById('porkReplacement').value);
        const porkCO2 = 12; // kg CO2e/kg

        // Update display
        document.getElementById('porkAmountDisplay').textContent = porkAmount;

        const amountKg = porkAmount / 1000;
        const currentEmissions = amountKg * porkCO2;
        const newEmissions = amountKg * replacementCO2;

        const weeklySavings = currentEmissions - newEmissions;
        const annualSavings = (weeklySavings * 52) / 1000; // Convert to tons
        const flights = Math.round(annualSavings / 0.25); // ~250kg per flight

        document.getElementById('porkSavingsValue').textContent = weeklySavings.toFixed(1);
        document.getElementById('porkAnnualSavings').textContent = annualSavings.toFixed(2);
        document.getElementById('porkFlightEquiv').textContent = flights;
    }

    // Initialize calculator
    document.addEventListener('DOMContentLoaded', function () {
        calculatePorkSavings();
    });
</script>

{% endblock %}